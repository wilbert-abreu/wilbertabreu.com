# Welcome to Serverless!
name: wilbert-abreu-blog

wilbert-abreu-blog:
  component: "@sls-next/serverless-component@1.19.0-alpha.21"
  inputs:
    # policy: "arn:aws:iam::123456789012:policy/MyCustomPolicy"
    # roleArn: "arn:aws:iam::123456789012:role/MyCustomLambdaRole"
    domain: wilbertabreu.com
    memory: 1024
    bucketName: wilbert-abreu-blog-s3
    description: "*lambda-type*@Edge for wilbert-abreu-blog"
    name:
      defaultLambda: wilbert-abreu-blog-lambda
      apiLambda: wilbert-abreu-blog-lambda
    publicDirectoryCache: true
    # build:
    #   env:
    #     NEXT_PUBLIC_GOOGLE_MAPS_KEY: ${env.NEXT_PUBLIC_GOOGLE_MAPS_KEY}
    runtime:
      defaultLambda: "nodejs12.x"
      apiLambda: "nodejs12.x"
    authentication:
      username: ${env.USERNAME}
      password: ${env.PASSWORD}

    # cloudfront:
    #   api/*:
    #     forward:
    #       headers: [Host]


      # /post/*:
      #       ttl: 86400 # 1 day cache
